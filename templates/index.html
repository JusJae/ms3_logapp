<!DOCTYPE html>
<html
	lang="en"
	style="height: 100%">
	<head>
		<meta charset="UTF-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0">
		<title>Log It All</title>
		<!-- Favicon -->
		<link
			rel="icon"
			href="https://img.icons8.com/ios-filled/50/000000/weight.png">
		<!-- CSS -->
		<link
			rel="stylesheet"
			href="{{ url_for('static', filename='css/style.css') }}">
		<!-- Bootstrap CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
			rel="stylesheet">
		<!-- AOS -->
		<link
			href="https://unpkg.com/aos@2.3.1/dist/aos.css"
			rel="stylesheet">
		<!-- Font Awesome -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">
	</head>

	<body>
		<!-- Navbar -->
		<nav class="navbar navbar-expand-lg navbar-dark navbar-index">
			<div class="container-fluid">
				<a
					class="navbar-brand"
					href="{{ url_for('home') }}"
					>Log It All</a
				>
				<button
					class="navbar-toggler"
					type="button"
					data-bs-toggle="collapse"
					data-bs-target="#navbarNav"
					aria-controls="navbarNav"
					aria-expanded="false"
					aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div
					class="collapse navbar-collapse"
					id="navbarNav">
					<ul class="navbar-nav me-auto mb-2 mb-lg-0">
						<li class="nav-item">
							<a
								class="nav-link active"
								aria-current="page"
								href="{{ url_for('home') }}"
								>Home</a
							>
						</li>

						{% if session['user'] %}
						<li class="nav-item">
							<a
								class="nav-link"
								href="{{ url_for('profile', username=session['user']) }}"
								>Profile</a
							>
						</li>
						<li class="nav-item">
							<a
								class="nav-link"
								href="{{ url_for('add_product') }}"
								>Add Product</a
							>
						</li>
						<li class="nav-item">
							<a
								class="nav-link"
								href="{{ url_for('categories') }}"
								>Categories</a
							>
						</li>
						<li class="nav-item">
							<a
								class="nav-link"
								href="{{ url_for('products') }}"
								>Products</a
							>
						</li>
						<li class="nav-item">
							<a
								class="nav-link"
								href="{{ url_for('logout') }}"
								>Logout</a
							>
						</li>
						{% else %}
						<li class="nav-item">
							<a
								class="nav-link"
								href="{{ url_for('login') }}"
								>Login</a
							>
						</li>
						<li class="nav-item">
							<a
								class="nav-link"
								href="{{ url_for('register') }}"
								>Register</a
							>
						</li>
						{% endif %}
					</ul>
					<form
						class="nav-search d-flex"
						action="{{ url_for('search') }}"
						method="POST">
						<input
							class="form-control nav-search-bar me-2 validate"
							type="search"
							name="query"
							id="query"
							minlength="3"
							maxlength="50"
							placeholder="Search"
							aria-label="Search" />
						<button
							class="btn btn-main"
							type="submit">
							<i class="fas fa-search"></i>
						</button>
					</form>
				</div>
			</div>
		</nav>

		<!-- flash messages -->
		<section>
			{% with messages = get_flashed_messages() %} {% if messages %} {% for
			message in messages %}
			<div class="flashes row text-muted">
				<h5 class="flash-message text-center">{{ message }}</h5>
			</div>
			{% endfor %} {% endif %} {% endwith %}
		</section>

		<!-- Main content -->
		<main class="container mt-auto">{% block content %} {% endblock %}</main>

		<!-- Fixed Footer -->
		<footer
			class="footer bg-light text-center text-lg-start bottom-0 w-100 mt-auto fixed"
			style="background-color: var(--main-color) !important; color: white">
			<div class="text-center footer-text p-3">
				Â© 2023 Log It All. All rights reserved.
			</div>
		</footer>
		<!-- JS for interactive elements -->
		<script src="{{ url_for('static', filename='js/script.js') }}"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
		<script>
			AOS.init();
		</script>
	</body>
</html>
